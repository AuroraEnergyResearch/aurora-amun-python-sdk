# Aurora Amun SDK
**This is under development and not for general use.**

## Structure
- `aurora` contains the SDK code
- `docs` is the built docusaurus site. This directory hosts the files that are served by GitHub pages. To update this folder with new changes run `npm run build` within the `docusaurus-site` directory
- `docusaurus-site` is the codebase for managing the documentation website. You can use React or Markdown to create and modify the theme and content of the site. Some of the documentation pages are autogenerated by pydoc. Run `pydoc-markdown` in the root of this repository and it will look inside the `aurora` directory and create documentation .md files within `docusaurus-site/docs/Reference` based in Python doc strings in the code
- `examples` is a directory with miscellaneous examples for how to use Amun Python SDK

## Developing

To run docusaurus site in development watch-mode, run `npm run start` inside `docusaurus-site/`

## Deployment
We use GitHub pages to deploy the documentation
- Navigate to `docusaurus-site/`
- Run `npm run build`. This command will generate the static website file in `docusaurus-site/build` directory and copy them to `docs`
- After these changes are merged into the master branch, GitHub will automatically deploy the new version of the website from the `docs` folder

**To avoid confusion: `./docs` hosts a built statis website. `./docusaurus-site/docs` hosts markdown files for editing documentation**

> Please remember to update the version number in `setup.py` to reflect the changes in SDK and docs. This is especially relevant when the new version of the SDK is not backward compatible with the previous version.

### Create a venv and activate if required

```powershell
python -m venv .venv
#enable python virtual environment
.\.venv\Scripts\Activate.ps1
```

### Install dependencies

```powershell
# This install this module as symlinks to and all dependencies including the ones needed locally.
# It uses setup.py to find dependancies.
pip install -e  .[development] # This install this module as symlinks to and all dependencies including the ones needed locally.
```

### Building the documentation

```powershell
.\.venv\Scripts\Activate.ps1
pydoc-markdown
```

This expected the documentation [aurora-amun-python-sdk-docs](https://auroraenergyresearch.github.io/aurora-amun-python-sdk-docs/) to be checked out as a sibling in `..\aurora-amun-python-sdk-docs\`

### Running the tests

```powershell
.\.venv\Scripts\Activate.ps1
pytest
```